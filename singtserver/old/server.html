<!DOCTYPE html>
<html>

  <head>
    <meta charset="UTF-8">
    <title>Singt Server</title>
    <script src="jquery-3.5.1.js" defer></script>
    <script src="server.js" defer></script>
  </head>

  <body>
    <h1>Singt Server</h1>

    <p>This is an instance of our Singt Server software; version 0.1.
    This software creates a virtual rehearsal space where people can
    talk and sing together.  This software accepts connections from
    the Singt Client.</p>

    <h2>Participants</h2>

    <div id="participants">
    </div>
    
    <h2>Backing Tracks</h2>

    <p>In order to sing in time together, a backing track is required
    (at least for the first take).  These need to be uploaded to the
    server encoded either in wav or Opus formats.</p>

    <p>[A future version will allow a participant (including the
    conductor) to record themselves singing and for that to be used
    live instead of a backing track.]</p>

    <p>To upload a backing track, first specify the name of the piece
      in the box below:</p>

    <p>Name: <input id="backing_track_name" type="text"></p>

    <p>Next, select the file to upload:</p>

    <input id="backing_track_file" type="file">

    <p>When you're ready, press the upload button.</p>

    <button id="backing_track_upload">Upload</button>

    <div id="backing_tracks">
    </div>

    
    <h2>States</h2>
    
    <p>The default state for a rehearsal space is "discussion".  In
    this state conversations are real-time: everyone can talk to
    everyone else (assuming their microphones are live and
    unmuted).</p>

    <p>The other state for the space is "recording".  In this state:
      <ul>
	<li>if their microphone is unmuted and live, a participant
	  will be able to hear the backing track (and themselves, if
	  they enable monitoring on their client).  They will be
	  recorded in high quality and that recording will be sent in
	  real-time to the server.</li>
	<li>otherwise, a participant will be able to hear everyone
	  else singing in real time (and synchronised).</li>
      </ul>

    <p>This rehearsal space is currently in the "discussion"
      state.</p>

    
    <h2>Recording</h2>
    
    <p>To start a recording, select either a backing track, or a
      previous take, or one of each, then press the "Record" button.</p>

    <p>Backing track:
      <select>
	<option>None</option>
	<option>Happy Birthday</option>
	<option>Edelweiss</option>
      </select>
    </p>

    <p>Previous take:
      <select>
	<option>None</option>
	<option>Happy Birthday - Take 1</option>
      </select>
    </p>

    <button>Record</button>

    <p>To stop a recording part way through, press the "Stop
      Recording" button.</p>

    <button>Stop Recording</button>

    <p>The rehearsal space is currently in the "discussion" state; it
    is not in the "recording" state.</p>


    <h2>Playback</h2>
    
    <p>During the "discussion" state, backing tracks and recordings
    can be played back for everyone to hear.  Participants (whose
    microphones are live and unmuted) may talk over the top of the
    playback.  To play back audio, select a backing track, a take, or
    one of each, and press the "Play for Everyone" button.</p>

    <p>Backing track:
      <select>
	<option>None</option>
	<option>Happy Birthday</option>
	<option>Edelweiss</option>
      </select>
    </p>

    <p>Take:
      <select>
	<option>None</option>
	<option>Happy Birthday - Take 1</option>
      </select>
    </p>

    <button>Play for Everyone</button>

    <p>To stop play back, press the "Stop Playback" button.</p>

    <button>Stop Playback</button>

    <p>Nothing is currently being played.</p>
    
  </body>
  
</html>
